import{_ as w}from"./PeopleCalculator.8b565561.js";import{i as d,o as s,c as o,g as l,t as g,e as i,f as b,l as h,m as _,F as k,x as v,s as D,v as $}from"./entry.63d9d002.js";import{u as C}from"./useDirectus.8c70611e.js";import{w as M}from"./asyncContext.e1c56c95.js";import"./Avatar.25899e7e.js";import"./Icon.10c17728.js";import"./_plugin-vue_export-helper.c27b6911.js";const j={class:"flex flex-col lg:flex-row lg:flex-wrap meeting-card"},B={class:"w-full mb-4 meeting-card__title"},L={class:"tracking-wide"},S={class:"tracking-wide"},A={class:"opacity-50"},T={class:"w-full flex items-start mt-4 justify-start"},N=["href"],V=["href"],E={__name:"Card",props:{meeting:{type:Object,default:null}},setup(c){const t=c,u=d(()=>t.meeting.files.length?t.meeting.files.filter(e=>e.directus_files_id.tags.length?e.directus_files_id.tags.includes("Minutes"):!1).map(e=>e.directus_files_id.id).join(", "):!1),a=d(()=>t.meeting.files.length?t.meeting.files.filter(e=>e.directus_files_id.tags.length?e.directus_files_id.tags.includes("Agenda"):!1).map(e=>e.directus_files_id.id).join(", "):!1),m=d(()=>{if(t.meeting.date){const e={year:"numeric",month:"long",day:"numeric"},[n,r,f]=t.meeting.date.split("-");return new Date(n,r-1,f).toLocaleDateString("en-US",e)}else return!1}),p=d(()=>{if(t.meeting.time){const[e,n]=t.meeting.time.split(":"),r=new Date;return r.setHours(e),r.setMinutes(n),r.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"numeric"})}else return});return(e,n)=>{const r=w;return s(),o("div",j,[l("div",B,[l("h2",L,g(i(m))+" @ "+g(i(p)),1),l("h4",S,[l("span",A,g(c.meeting.category)+" Location: ",1),b(" Community Room")])]),c.meeting.people.length?(s(),h(r,{key:0,people:c.meeting.people,date:c.meeting.date},null,8,["people","date"])):_("",!0),l("div",T,[i(a)?(s(),o("a",{key:0,class:"mr-4 button",href:"https://admin.1033lenox.com/assets/"+i(a),target:"_blank"},"Agenda",8,N)):_("",!0),i(u)?(s(),o("a",{key:1,class:"button",href:"https://admin.1033lenox.com/assets/"+i(u),target:"_blank"},"Minutes",8,V)):_("",!0)])])}}},F=E,U={class:"relative w-full min-h-screen flex items-center justify-start flex-col meetings"},H={class:"w-full max-w-7xl flex items-center justify-start flex-col flex-wrap"},O=l("h2",{class:"page__content-title"},"Board Meetings",-1),P={key:0},R={key:1},q={key:2},X={__name:"index",async setup(c){let t,u;const{data:a,pending:m,error:p}=([t,u]=M(()=>D("meetings",()=>C($("meetings",{fields:["id,status,title,category,description,date,time,files.directus_files_id.id,files.directus_files_id.tags,files.directus_files_id.description,files.directus_files_id.title,url,presentations.*,people.people_id.unit.units_id.number,people.people_id.board_member.status,people.people_id.first_name,people.people_id.last_name,people.people_id.email,people.people_id.board_member.title,people.people_id.board_member.start,people.people_id.board_member.finish,people.people_id.board_member.person"],sort:"-date"})))),t=await t,u(),t),e=d(()=>a?a.value.filter(n=>new Date(n.date)<new Date):[]);return d(()=>a?a.value.filter(n=>new Date(n.date)>=new Date):[]),(n,r)=>{const f=F;return s(),o("div",U,[l("div",H,[O,i(m)?(s(),o("div",P,"Loading")):_("",!0),i(e)?(s(),o("div",R,[(s(!0),o(k,null,v(i(e),(y,x)=>(s(),h(f,{key:x,meeting:y},null,8,["meeting"]))),128))])):_("",!0),i(p)?(s(),o("div",q,"Error")):_("",!0)])])}}};export{X as default};
