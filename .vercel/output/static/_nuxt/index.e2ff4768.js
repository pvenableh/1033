import{_ as h}from"./VInput.859f30fa.js";import{_ as b}from"./VButton.66ff8644.js";import{p as g,j as t,y as B,z as R,A as q,B as T,r as C,c,e,g as p,t as _,l as D,d as f,m as F,Y as N,o as n,b as v,C as j,f as P}from"./entry.63d9d002.js";import{a as S}from"./time.650c6f7c.js";const U={class:"flex items-center justify-center flex-col min-h-screen"},$={key:0},z={class:"uppercase italic text-xs font-bold"},A={key:1,class:"uppercase italic text-xs font-bold"},G={__name:"index",setup(E){const m=g(),l=t(m.query.token?m.query.token:""),r=t(""),i=t(!1),u=t("");B(()=>{l.value&&(r.value=R(l.value),u.value=new Date(r.value.exp*1e3),u.value>=new Date&&(i.value=!0))});const s=t(),x=q("https://admin.1033lenox.com").with(T());async function w(){const o=await x.request(N(l.value,s.value));console.log(o)}return(o,a)=>{const y=h,k=b,V=C("VForm");return n(),c("div",U,[e(i)?(n(),c("div",$,[p("h3",null,"Reset password for "+_(e(r).email)+".",1),p("h5",z,"Link expires in "+_(("getRelativeTime"in o?o.getRelativeTime:e(S))(e(u))),1),e(i)?(n(),D(V,{key:0,class:"",onSubmit:a[1]||(a[1]=d=>w())},{default:f(()=>[v(y,{name:"password",type:"password",rules:"required",label:"Password",modelValue:e(s),"onUpdate:modelValue":a[0]||(a[0]=d=>j(s)?s.value=d:null),class:"my-6"},null,8,["modelValue"]),v(k,{class:"w-full mb-6",type:"submit"},{default:f(()=>[P("Update Password")]),_:1})]),_:1})):F("",!0)])):(n(),c("h5",A,"This link has expired."))])}}};export{G as default};
